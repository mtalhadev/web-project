(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),c=(a(28),a(13)),l=a(8),i=a(1),u=a.n(i),p=a(11),m=a(7),d=a(3),f=a(22),h=(a(30),a(38));function g(){Object(n.useEffect)(function(){},{});var e=r.a.useState({userid:Object(h.a)(),startChat:!1,allMessages:[],receiverId:"",roomNo:"",message:"",senderId:"",interest:"",userid2:"",interest2:""}),t=Object(f.a)(e,2),a=t[0],s=t[1];function o(){return(o=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.roomNo),e.next=4,fetch("/deleteroom",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=8;break}return e.next=3,t.json();case 3:a=e.sent,console.log(a,"4"),s({startChat:!1}),e.next=10;break;case 8:throw new Error(t.error);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error deleting the room, please try again")});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a),e.next=4,fetch("/insertmessage",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=10;break}return s(Object(m.a)({},a,{message:""})),e.next=4,t.json();case 4:return n=e.sent,console.log(n,"5"),e.next=8,fetch("/getmessages",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=12;break}return s(Object(m.a)({},a,{message:""})),e.next=4,t.json();case 4:return n=e.sent,e.next=7,n.results;case 7:r=e.sent,console.log(r,"6"),s(Object(m.a)({},a,{allMessages:r})),e.next=14;break;case 12:throw new Error(t.error);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error getting messages, please try again")});case 8:e.next=12;break;case 10:throw new Error(t.error);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error sending message, please try again")});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=Object(d.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/searchforpartner",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var n,r,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=16;break}return e.next=3,t.json();case 3:return n=e.sent,console.log(t.results),e.next=7,n.results[0].userid;case 7:return r=e.sent,console.log(r,"talhakatest"),s(Object(m.a)({},a,{userid2:n.results[0].userid,interest2:n.results[0].interest})),console.log(n.results[0].userid,"3"),o={userid1:a.userid.slice(0,5),userid2:r.slice(0,5)},e.next=14,fetch("/createroom",{method:"post",body:JSON.stringify(o),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=13;break}return e.next=3,t.json();case 3:return n=e.sent,e.next=6,n.roomNo;case 6:return o=e.sent,console.log(n.roomNo,"4"),s(Object(m.a)({},a,{senderId:a.userid,receiverId:r,startChat:!0,roomNo:o})),e.next=11,fetch("/deletefromqueue",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=7;break}return e.next=3,t.json();case 3:a=e.sent,console.log(a,"last"),e.next=9;break;case 7:throw new Error(t.error);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error removing from queue, please try again")});case 11:e.next=15;break;case 13:throw new Error(t.error);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error creating room, please try again")});case 14:e.next=22;break;case 16:if(400!=t.status){e.next=20;break}alert("No Users found,please try again"),e.next=22;break;case 20:throw new Error(t.error);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error searching for partner, please try again")});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},t.preventDefault(),s(Object(m.a)({},a,{userid:Object(h.a)()})),console.log(a),e.next=7,fetch("/insertinqueue",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return console.log(t.json(),"1"),e.next=4,fetch("/searchforpartner",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var r,o,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=16;break}return e.next=3,t.json();case 3:return r=e.sent,console.log(t.results),e.next=7,r.results[0].userid;case 7:return o=e.sent,console.log(o,"talhakatest"),s(Object(m.a)({},a,{userid2:r.results[0].userid,interest2:r.results[0].interest})),console.log(r.results[0].userid,"3"),c={userid1:a.userid.slice(0,5),userid2:o.slice(0,5)},e.next=14,fetch("/createroom",{method:"post",body:JSON.stringify(c),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=13;break}return e.next=3,t.json();case 3:return n=e.sent,e.next=6,n.roomNo;case 6:return r=e.sent,console.log(n.roomNo,"4"),s(Object(m.a)({},a,{senderId:a.userid,receiverId:o,startChat:!0,roomNo:r})),e.next=11,fetch("/deletefromqueue",{method:"post",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(){var e=Object(d.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=7;break}return e.next=3,t.json();case 3:a=e.sent,console.log(a,"last"),e.next=9;break;case 7:throw new Error(t.error);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error removing from queue, please try again")});case 11:e.next=15;break;case 13:throw new Error(t.error);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error creating room, please try again")});case 14:e.next=22;break;case 16:if(400!=t.status){e.next=20;break}setTimeout(function(){n()},3e4),e.next=22;break;case 20:throw new Error(t.error);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error searching for partner, please try again")});case 4:e.next=8;break;case 6:throw new Error(t.error);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),alert("Error adding in queue, please try again")});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(e){var t=e.target,n=t.value,r=t.name;s(Object(m.a)({},a,Object(p.a)({},r,n)))}return r.a.createElement("div",null,!a.startChat&&r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar navbar-light bg-light",style:{backgroundColor:"#f8f9fa",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 20px"}},r.a.createElement("a",{class:"navbar-brand",href:"#"},r.a.createElement("img",{src:"/docs/4.5/assets/brand/bootstrap-solid.svg",width:"30",height:"30",class:"d-inline-block align-top",alt:"",loading:"lazy"}),r.a.createElement("p",{id:"tit"},"Omegle Clone")),r.a.createElement("div",null,r.a.createElement("p",{id:"tagLine"},"Talk With Strangers!"))),r.a.createElement("div",{class:"container"},r.a.createElement("center",null,r.a.createElement("p",{style:{width:"80%"}},"Omegle (oh\xb7meg\xb7ull) is a great way to meet new friends, even while practicing social distancing. When you use Omegle, we pick someone else at random and let you talk one-on-one. To help you stay safe, chats are anonymous unless you tell someone who you are (not suggested!), and you can stop a chat at any time. Predators have been known to use Omegle, so please be careful. If you prefer, you can add your interests, and Omegle will look for someone who's into some of the same things as you instead of someone completely random."))),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("h2",null,"What Do you wanna chat about?"),r.a.createElement("label",{id:"interest",for:"cars"},"Choose Interests:"),r.a.createElement("div",{class:"divider"}),r.a.createElement("br",null),r.a.createElement("select",{name:"interest",id:"interest",value:a.interest,onChange:i,multiple:!0},r.a.createElement("option",{value:"cars"},"Cars"),r.a.createElement("option",{value:"dating"},"Dating"),r.a.createElement("option",{value:"funny"},"Fuwwy O~O"),r.a.createElement("option",{value:"movies"},"Movies"),r.a.createElement("option",{value:"programming"},"Programming"),r.a.createElement("option",{value:"comedy"},"Comedy"),r.a.createElement("option",{value:"nature"},"Nature"),r.a.createElement("option",{value:"sFiction"},"Science Fiction"),r.a.createElement("option",{value:"music"},"Music")),r.a.createElement("div",{class:"buttonDiv",style:{display:"block",marginTop:"20px"}},r.a.createElement("button",{onClick:function(e){return l.apply(this,arguments)},class:"testbutton"},"Find Stranger")))),a.startChat&&r.a.createElement("div",null,r.a.createElement("h2",null,"Chat Down Here!"),r.a.createElement("div",{class:"chatbox flex-container"},r.a.createElement("span",{style:{display:"flex",justifyContent:"space-between",padding:"0px 20px",backgroundColor:"white",color:"black"}},r.a.createElement("h3",null,"Anonymous"),r.a.createElement("button",{onClick:function(e){return o.apply(this,arguments)},className:"deleteButtonChat",style:{backgroundColor:"red",padding:"0px 20px",margin:"5px",color:"black"}},"X")),a.allMessages.map(function(e){return r.a.createElement(r.a.Fragment,null,e.receiverId==a.receiverId&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"stranger"},r.a.createElement("p",{class:"strangerp"},e.message)),r.a.createElement("div",{class:"chatDivider"})),e.senderId==a.senderId&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"you"},r.a.createElement("p",{class:"youc"},e.message)),r.a.createElement("div",{class:"chatDivider"})))})),r.a.createElement("div",{class:"divider"}),r.a.createElement("div",{class:"formDiv"},r.a.createElement("form",null,r.a.createElement("input",{id:"textinput",type:"text",name:"message",size:"80",value:a.message,autocomplete:"off",onChange:i}))),r.a.createElement("div",{class:"buttonDiv"},r.a.createElement("button",{type:"button",class:"testbutton",onClick:function(e){return c.apply(this,arguments)}},"Send"))))}a(31);function v(){return r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar navbar-light bg-light",style:{backgroundColor:"#f8f9fa",padding:"10px"}},r.a.createElement("a",{class:"navbar-brand",href:"#"},r.a.createElement("img",{src:"/docs/4.5/assets/brand/bootstrap-solid.svg",width:"30",height:"30",class:"d-inline-block align-top",alt:"",loading:"lazy"}),r.a.createElement("p",{id:"tit"},"Omegle Clone"))),r.a.createElement("h2",null,"Chat Down Here!"),r.a.createElement("div",{class:"chatbox flex-container"},r.a.createElement("div",{class:"stranger"},r.a.createElement("p",{class:"strangerp"},"Hello Hello"),r.a.createElement("p",{class:"strangerp strangert"},"11:00")),r.a.createElement("div",{class:"chatDivider"}),r.a.createElement("div",{class:"you"},r.a.createElement("p",{class:"youc"},"Can you hear me, as I scream your name?"),r.a.createElement("p",{class:"youc yout"},"11:00")),r.a.createElement("div",{class:"chatDivider"}),r.a.createElement("div",{class:"stranger"},r.a.createElement("p",{class:"strangerp"},"Hello Hello"),r.a.createElement("p",{class:"strangerp strangert"},"11:01")),r.a.createElement("div",{class:"chatDivider"}),r.a.createElement("div",{class:"stranger"},r.a.createElement("p",{class:"strangerp"},"Do you need me, before I fade away?"),r.a.createElement("p",{class:"strangerp strangert"},"11:01")),r.a.createElement("div",{class:"chatDivider"}),r.a.createElement("div",{class:"you"},r.a.createElement("p",{class:"youc"},"Is this a place that I call home"),r.a.createElement("p",{class:"youc yout"},"11:02")),r.a.createElement("div",{class:"chatDivider"}),r.a.createElement("div",{class:"stranger"},r.a.createElement("p",{class:"strangerp"},"Is this the place that I call home"),r.a.createElement("p",{class:"strangerp strangert"},"11:03")),r.a.createElement("div",{class:"chatDivider"}),r.a.createElement("div",{class:"you"},r.a.createElement("p",{class:"youc"},"Walk around the path unknown"),r.a.createElement("p",{class:"youc yout"},"11:04"))),r.a.createElement("div",{class:"divider"}),r.a.createElement("div",{class:"formDiv"},r.a.createElement("form",null,r.a.createElement("input",{id:"textinput",type:"text",name:"fname",size:"80",autocomplete:"off"}))),r.a.createElement("div",{class:"buttonDiv"},r.a.createElement("button",{type:"button",class:"testbutton"},"Send")))}var E=function(e){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{path:"/chat",component:v}),r.a.createElement(l.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.c30d2eb4.chunk.js.map